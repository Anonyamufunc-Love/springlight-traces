"use strict";(self.webpackChunkspringlight_traces=self.webpackChunkspringlight_traces||[]).push([[1803],{4618:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"extend-script/light-layer","title":"\u706f\u5149\u56fe\u5c42 \u2014\u2014 LightLayer","description":"\u672c\u7ae0\u5185\u5bb9\u4ecd\u5728\u6301\u7eed\u5b8c\u5584\u4e0e\u66f4\u65b0\u4e2d\uff0c\u66f4\u591a\u7cbe\u5f69\u656c\u8bf7\u671f\u5f85\uff01","source":"@site/docs/extend-script/10-light-layer.mdx","sourceDirName":"extend-script","slug":"/extend-script/light-layer","permalink":"/springlight-traces/extend-script/light-layer","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":10,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u6444\u50cf\u673a\u56fe\u5c42 \u2014\u2014 CameraLayer","permalink":"/springlight-traces/extend-script/camera-layer"},"next":{"title":"\u7d20\u6750 \u2014\u2014 FootageItem","permalink":"/springlight-traces/extend-script/footage-item"}}');var l=n(4848),i=n(8453);const o={},s="\u706f\u5149\u56fe\u5c42 \u2014\u2014 LightLayer",c={},a=[{value:"LightLayer",id:"lightlayer",level:2},{value:"LightType",id:"lighttype",level:3},{value:"\u4fee\u6539\u706f\u5149\u7c7b\u578b",id:"\u4fee\u6539\u706f\u5149\u7c7b\u578b",level:4},{value:"\u4fee\u6539\u706f\u5149\u989c\u8272",id:"\u4fee\u6539\u706f\u5149\u989c\u8272",level:3},{value:"\u4fee\u6539\u706f\u5149\u8870\u51cf",id:"\u4fee\u6539\u706f\u5149\u8870\u51cf",level:3}];function d(e){const r={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.header,{children:(0,l.jsx)(r.h1,{id:"\u706f\u5149\u56fe\u5c42--lightlayer",children:"\u706f\u5149\u56fe\u5c42 \u2014\u2014 LightLayer"})}),"\n",(0,l.jsx)(r.admonition,{type:"tip",children:(0,l.jsx)(r.p,{children:"\u672c\u7ae0\u5185\u5bb9\u4ecd\u5728\u6301\u7eed\u5b8c\u5584\u4e0e\u66f4\u65b0\u4e2d\uff0c\u66f4\u591a\u7cbe\u5f69\u656c\u8bf7\u671f\u5f85\uff01"})}),"\n",(0,l.jsx)(r.h2,{id:"lightlayer",children:"LightLayer"}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"LightLayer"})," \u7ee7\u627f\u81ea ",(0,l.jsx)(r.code,{children:"Layer"}),"\uff0c\u662f\u4e00\u4e2a\u4e13\u95e8\u7528\u4e8e\u5904\u7406\u706f\u5149\u5185\u5bb9\u7684\u7279\u6b8a\u56fe\u5c42\u3002"]}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"LightLayer"})," \u76f8\u5bf9\u4e8e ",(0,l.jsx)(r.code,{children:"AVLayer"}),"\uff0c\u6ca1\u6709\u6dfb\u52a0\u592a\u591a\u7684\u65b9\u6cd5\uff0c\u6dfb\u52a0\u4e86\u4e00\u4e2a ",(0,l.jsx)(r.code,{children:"lightOption"})," \u5c5e\u6027\u7ec4\uff0c\u4ee5\u53ca",(0,l.jsx)(r.code,{children:"lightType"})," \u5c5e\u6027\uff0c\u7528\u4e8e\u8bbe\u7f6e\u706f\u5149\u7684\u4e00\u4e9b\u53c2\u6570\u3002"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-ts",children:"/** The LightLayer object represents a light layer within a composition. Create it using the LayerCollection object\u2019s addLight method */\r\ndeclare class LightLayer extends Layer {\r\n  /** Shortcuts */\r\n  readonly lightOption: _LightOptionsGroup\r\n\r\n  /** For light layers, the type of light. */\r\n  lightType: LightType\r\n}\n"})}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"_LightOptionsGroup"})," \u542b\u6709\u4ee5\u4e0b ",(0,l.jsx)(r.code,{children:"OneDProperty"})," \u5c5e\u6027\uff1a"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-ts",children:"declare interface _LightOptionsGroup extends PropertyGroup {\r\n  readonly intensity: OneDProperty // \u706f\u5149\u9009\u9879 > \u5f3a\u5ea6\r\n  readonly color: ColorProperty // \u706f\u5149\u9009\u9879 > \u989c\u8272\r\n  readonly coneAngle: OneDProperty // \u706f\u5149\u9009\u9879 > \u9525\u5f62\u89d2\u5ea6\r\n  readonly coneFeather: OneDProperty // \u706f\u5149\u9009\u9879 > \u9525\u5f62\u7fbd\u5316\r\n  readonly falloff: OneDProperty // \u706f\u5149\u9009\u9879 > \u8870\u51cf\r\n  readonly radius: OneDProperty // \u706f\u5149\u9009\u9879 > \u534a\u5f84\r\n  readonly falloffDistance: OneDProperty // \u706f\u5149\u9009\u9879 > \u8870\u51cf\u8ddd\u79bb\r\n  readonly castsShadows: OneDProperty // \u706f\u5149\u9009\u9879 > \u9634\u5f71\r\n  readonly shadowDarkness: OneDProperty // \u706f\u5149\u9009\u9879 > \u9634\u5f71\u6697\u5ea6\r\n  readonly shadowDiffusion: OneDProperty // \u706f\u5149\u9009\u9879 > \u9634\u5f71\u6269\u6563\r\n}\n"})}),"\n",(0,l.jsx)(r.h3,{id:"lighttype",children:"LightType"}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"LightType"})," \u662f\u4e00\u4e2a\u679a\u4e3e\u7c7b\u578b\uff0c\u7528\u4e8e\u8bbe\u7f6e\u805a\u5149\u7684\u7c7b\u578b\u3002"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-ts",children:"declare enum LightType {\r\n  AMBIENT = 4415, // \u73af\u5883\r\n  PARALLEL = 4412, // \u5e73\u884c\r\n  POINT = 4414, // \u70b9\r\n  SPOT = 4413, // \u805a\u5149\r\n}\n"})}),"\n",(0,l.jsxs)(r.p,{children:["\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c",(0,l.jsx)(r.code,{children:"LightType"})," \u4f1a\u5bfc\u81f4 ",(0,l.jsx)(r.code,{children:"lightOption"})," \u5c5e\u6027\u7ec4\u7684\u5c5e\u6027\u53d8\u5316\uff0c\u4f8b\u5982 ",(0,l.jsx)(r.code,{children:"\u73af\u5883\u5149"}),"\uff0c\u53ea\u6709 ",(0,l.jsx)(r.code,{children:"\u5f3a\u5ea6"})," \u548c ",(0,l.jsx)(r.code,{children:"\u989c\u8272"})," \u5c5e\u6027\uff0c\u4f46\u4f60\u65e0\u9700\u62c5\u5fc3\uff0c",(0,l.jsx)(r.code,{children:"ExtendScript"})," \u4f9d\u65e7\u53ef\u4ee5\u83b7\u53d6\u5230\uff0c\u53ea\u662f\u88ab\u9690\u85cf\u4e86\u800c\u5df2\u3002"]}),"\n",(0,l.jsx)(r.h4,{id:"\u4fee\u6539\u706f\u5149\u7c7b\u578b",children:"\u4fee\u6539\u706f\u5149\u7c7b\u578b"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-ts",children:'// \u5047\u8bbe comp \u662f\u4e00\u4e2a\u6709\u6548\u7684\u5408\u6210\u5bf9\u8c61\r\nvar layer = comp.layer(3);\r\n\r\nif (!(layer instanceof LightLayer) || !layer) {\r\n    throw new Error("\u4e0d\u662f\u4e00\u4e2a\u706f\u5149\u56fe\u5c42")\r\n}\r\n\r\nvar lightType = layer.lightType; // \u83b7\u53d6\u5f53\u524d\u706f\u5149\u7c7b\u578b\r\nlayer.lightType = LightType.SPOT; // \u4fee\u6539\u706f\u5149\u7c7b\u578b\u4e3a\u805a\u5149\n'})}),"\n",(0,l.jsx)(r.h3,{id:"\u4fee\u6539\u706f\u5149\u989c\u8272",children:"\u4fee\u6539\u706f\u5149\u989c\u8272"}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"color"})," \u5c5e\u6027\u662f\u4e00\u4e2a ",(0,l.jsx)(r.code,{children:"ColorProperty"}),"\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u989c\u8272\u503c\u3002"]}),"\n",(0,l.jsxs)(r.p,{children:["\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u4e2a ",(0,l.jsx)(r.code,{children:"ColorProperty"})," \u4e2d\u7684\u989c\u8272\u548c\u5408\u6210\u989c\u8272\u7684\u5904\u7406\u65b9\u5f0f\u662f\u5927\u5dee\u4e0d\u5dee\u7684\uff0c\u90fd\u662f\u6bcf\u4e2a\u989c\u8272\u5206\u91cf\u90fd\u9664\u4ee5 ",(0,l.jsx)(r.code,{children:"255"}),"\uff0c\u4e0d\u8fc7 ",(0,l.jsx)(r.code,{children:"ColorProperty"})," \u591a\u4e86\u4e00\u4e2a\u503c\uff0c\u8c8c\u4f3c\u662f\u900f\u660e\u5ea6\uff0c\u6240\u4ee5\u6211\u4eec\u8bbe\u7f6e\u989c\u8272\u7684\u65f6\u5019\uff0c\u9700\u8981\u628a\u900f\u660e\u5ea6\u4e5f\u8bbe\u7f6e\u4e0a\u3002"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-ts",children:'// \u5047\u8bbe comp \u662f\u4e00\u4e2a\u6709\u6548\u7684\u5408\u6210\u5bf9\u8c61\r\nconst layer = comp.layer(3);\r\n\r\nif (!(layer instanceof LightLayer) || !layer) {\r\n    throw new Error("\u4e0d\u662f\u4e00\u4e2a\u706f\u5149\u56fe\u5c42")\r\n}\r\n\r\n\r\nconst color = layer.lightOption.color; // \u83b7\u53d6\u5f53\u524d\u989c\u8272\r\n\r\nlet r = 102;\r\nlet g = 255;\r\nlet b = 255;\r\nlayer.lightOption.color.setValue([r / 255, g / 255, b / 255, 1]) // \u8bbe\u7f6e\u989c\u8272\r\n                                                                 // \u900f\u660e\u5ea6\u4e3a 1\n'})}),"\n",(0,l.jsx)(r.h3,{id:"\u4fee\u6539\u706f\u5149\u8870\u51cf",children:"\u4fee\u6539\u706f\u5149\u8870\u51cf"}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"falloff"})," \u5c5e\u6027\u662f\u4e00\u4e2a ",(0,l.jsx)(r.code,{children:"OneDProperty"}),"\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u8870\u51cf\u3002"]}),"\n",(0,l.jsx)(r.p,{children:"\u5177\u4f53\u6570\u503c\u4e0eUI\u7684\u5bf9\u5e94\u5173\u7cfb\u5982\u4e0b\uff1a"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.strong,{children:"1"}),": \u65e0"]}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.strong,{children:"2"}),": \u5e73\u6ed1"]}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.strong,{children:"3"}),": \u53cd\u5411\u6b63\u65b9\u5f62\u5df2\u56fa\u5b9a"]}),"\n"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-ts",children:'// \u5047\u8bbe comp \u662f\u4e00\u4e2a\u6709\u6548\u7684\u5408\u6210\u5bf9\u8c61\r\nconst layer = comp.layer(3);\r\n\r\nif (!(layer instanceof LightLayer) || !layer) {\r\n    throw new Error("\u4e0d\u662f\u4e00\u4e2a\u706f\u5149\u56fe\u5c42")\r\n}\r\n\r\nconst falloff = layer.lightOption.falloff; // \u83b7\u53d6\u5f53\u524d\u8870\u51cf\r\nlayer.lightOption.falloff.setValue(1); // \u8bbe\u7f6e\u8870\u51cf\u4e3a \u5e73\u6ed1\n'})})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,l.jsx)(r,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>s});var t=n(6540);const l={},i=t.createContext(l);function o(e){const r=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function s(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),t.createElement(i.Provider,{value:r},e.children)}}}]);