"use strict";(self.webpackChunkspringlight_traces=self.webpackChunkspringlight_traces||[]).push([[5134],{2297:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"use-eslint","title":"\u4f7f\u7528 ESLint","description":"\u5728\u56e2\u961f\u534f\u4f5c\u6216\u5927\u578b\u9879\u76ee\u4e2d\uff0c\u4fdd\u6301\u4ee3\u7801\u98ce\u683c\u7684\u4e00\u81f4\u6027\u81f3\u5173\u91cd\u8981\u3002\u5f00\u53d1\u8005\u4eec\u53ef\u80fd\u6709\u4e0d\u540c\u7684\u7f16\u7801\u4e60\u60ef\uff0c\u4f8b\u5982\uff0c\u6709\u7684\u504f\u7231\u9a7c\u5cf0\u547d\u540d\u6cd5\uff0c\u6709\u7684\u5219\u4f7f\u7528\u4e0b\u5212\u7ebf\uff1b\u6709\u7684\u4e60\u60ef 4 \u4e2a\u7a7a\u683c\u7f29\u8fdb\uff0c\u6709\u7684\u5219\u662f 2 \u4e2a\u3002\u8fd9\u4e9b\u5dee\u5f02\u4f1a\u589e\u52a0\u4ee3\u7801\u9605\u8bfb\u548c\u7ef4\u62a4\u7684\u96be\u5ea6\u3002","source":"@site/docs/17-use-eslint.mdx","sourceDirName":".","slug":"/use-eslint","permalink":"/springlight-traces/use-eslint","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":17,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u4f7f\u7528 Jest \u8fdb\u884c\u5355\u5143\u6d4b\u8bd5","permalink":"/springlight-traces/use-jest-unit-test"},"next":{"title":"\u7ed9 Host \u7aef\u6dfb\u52a0\u7b2c\u4e09\u65b9\u5e93","permalink":"/springlight-traces/add-host-3rd-library"}}');var t=r(4848),i=r(8453);const c={},l="\u4f7f\u7528 ESLint",o={},d=[{value:"\u521d\u59cb\u8bbe\u7f6e\uff1a\u5b89\u88c5 ESLint \u53ca\u76f8\u5173\u63d2\u4ef6",id:"\u521d\u59cb\u8bbe\u7f6e\u5b89\u88c5-eslint-\u53ca\u76f8\u5173\u63d2\u4ef6",level:2},{value:"\u521b\u5efa\u914d\u7f6e\u6587\u4ef6 <code>eslint.config.js</code>",id:"\u521b\u5efa\u914d\u7f6e\u6587\u4ef6-eslintconfigjs",level:2},{value:"\u4e3a React \u548c JSX \u6dfb\u52a0\u89c4\u5219",id:"\u4e3a-react-\u548c-jsx-\u6dfb\u52a0\u89c4\u5219",level:2},{value:"\u4e3a\u6d4b\u8bd5\u6587\u4ef6\u914d\u7f6e Jest \u89c4\u5219",id:"\u4e3a\u6d4b\u8bd5\u6587\u4ef6\u914d\u7f6e-jest-\u89c4\u5219",level:2},{value:"\u5b89\u88c5 Prettier",id:"\u5b89\u88c5-prettier",level:2},{value:"\u6700\u7ec8\u5b8c\u6574\u914d\u7f6e",id:"\u6700\u7ec8\u5b8c\u6574\u914d\u7f6e",level:2},{value:"\u7f16\u8f91\u5668\u96c6\u6210",id:"\u7f16\u8f91\u5668\u96c6\u6210",level:2}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"\u4f7f\u7528-eslint",children:"\u4f7f\u7528 ESLint"})}),"\n",(0,t.jsx)(n.p,{children:"\u5728\u56e2\u961f\u534f\u4f5c\u6216\u5927\u578b\u9879\u76ee\u4e2d\uff0c\u4fdd\u6301\u4ee3\u7801\u98ce\u683c\u7684\u4e00\u81f4\u6027\u81f3\u5173\u91cd\u8981\u3002\u5f00\u53d1\u8005\u4eec\u53ef\u80fd\u6709\u4e0d\u540c\u7684\u7f16\u7801\u4e60\u60ef\uff0c\u4f8b\u5982\uff0c\u6709\u7684\u504f\u7231\u9a7c\u5cf0\u547d\u540d\u6cd5\uff0c\u6709\u7684\u5219\u4f7f\u7528\u4e0b\u5212\u7ebf\uff1b\u6709\u7684\u4e60\u60ef 4 \u4e2a\u7a7a\u683c\u7f29\u8fdb\uff0c\u6709\u7684\u5219\u662f 2 \u4e2a\u3002\u8fd9\u4e9b\u5dee\u5f02\u4f1a\u589e\u52a0\u4ee3\u7801\u9605\u8bfb\u548c\u7ef4\u62a4\u7684\u96be\u5ea6\u3002"}),"\n",(0,t.jsx)(n.p,{children:"\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u5f15\u5165 ESLint\u3002ESLint \u662f\u4e00\u6b3e\u5f3a\u5927\u7684\u3001\u53ef\u914d\u7f6e\u7684 JavaScript \u4ee3\u7801\u68c0\u67e5\u5de5\u5177\uff0c\u5b83\u80fd\u591f\u5e2e\u52a9\u6211\u4eec\u81ea\u52a8\u5316\u5730\u68c0\u67e5\u4ee3\u7801\u98ce\u683c\u3001\u53d1\u73b0\u6f5c\u5728\u9519\u8bef\uff0c\u4ece\u800c\u6709\u6548\u63d0\u5347\u4ee3\u7801\u8d28\u91cf\u548c\u56e2\u961f\u534f\u4f5c\u6548\u7387\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"\u521d\u59cb\u8bbe\u7f6e\u5b89\u88c5-eslint-\u53ca\u76f8\u5173\u63d2\u4ef6",children:"\u521d\u59cb\u8bbe\u7f6e\uff1a\u5b89\u88c5 ESLint \u53ca\u76f8\u5173\u63d2\u4ef6"}),"\n",(0,t.jsx)(n.p,{children:"\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u5728\u9879\u76ee\u4e2d\u5b89\u88c5 ESLint \u6838\u5fc3\u5e93\u4ee5\u53ca TypeScript \u652f\u6301\u76f8\u5173\u7684\u63d2\u4ef6\u3002\u63a8\u8350\u4f7f\u7528 npm \u6216 yarn \u8fdb\u884c\u5b89\u88c5\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install --save-dev eslint @eslint/js typescript typescript-eslint\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"eslint"}),": ESLint \u7684\u6838\u5fc3\u5305\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"@eslint/js"}),": \u63d0\u4f9b ESLint \u63a8\u8350\u7684 JavaScript \u89c4\u5219\u96c6\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"typescript"})," & ",(0,t.jsx)(n.code,{children:"typescript-eslint"}),": \u8ba9 ESLint \u652f\u6301 TypeScript \u8bed\u6cd5\u68c0\u67e5\u6240\u5fc5\u9700\u7684\u5de5\u5177\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(n.h2,{id:"\u521b\u5efa\u914d\u7f6e\u6587\u4ef6-eslintconfigjs",children:["\u521b\u5efa\u914d\u7f6e\u6587\u4ef6 ",(0,t.jsx)(n.code,{children:"eslint.config.js"})]}),"\n",(0,t.jsxs)(n.p,{children:["ESLint \u7684\u65b0\u7248\u914d\u7f6e\u7cfb\u7edf\u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"eslint.config.js"})," \u6587\u4ef6\uff0c\u5b83\u91c7\u7528\u6241\u5e73\u5316\u7684\u914d\u7f6e\u7ed3\u6784\uff0c\u66f4\u52a0\u76f4\u89c2\u548c\u7075\u6d3b\u3002"]}),"\n",(0,t.jsx)(n.p,{children:"\u6211\u4eec\u5148\u521b\u5efa\u4e00\u4e2a\u57fa\u7840\u914d\u7f6e\uff0c\u96c6\u6210 ESLint \u548c TypeScript \u7684\u63a8\u8350\u89c4\u5219\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// eslint.config.js\r\nimport eslint from '@eslint/js';\r\nimport tseslint from 'typescript-eslint';\r\n\r\nexport default tseslint.config(\r\n  eslint.configs.recommended,\r\n  ...tseslint.configs.recommended,\r\n);\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u7136\u800c\uff0c\u76f4\u63a5\u5e94\u7528\u8fd9\u4e2a\u914d\u7f6e\u53ef\u80fd\u4f1a\u5bf9\u73b0\u6709\u9879\u76ee\uff08\u5982 ",(0,t.jsx)(n.code,{children:"bolt-cep"}),"\uff09\u4e2d\u4e0d\u7b26\u5408\u89c4\u5219\u7684\u4ee3\u7801\u4ea7\u751f\u5927\u91cf\u62a5\u9519\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7 ",(0,t.jsx)(n.code,{children:"ignores"})," \u9009\u9879\u6765\u6392\u9664\u7279\u5b9a\u6587\u4ef6\u548c\u76ee\u5f55\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'// eslint.config.js\r\nimport eslint from \'@eslint/js\';\r\nimport tseslint from \'typescript-eslint\';\r\n\r\nexport default tseslint.config(\r\n  {\r\n    ignores: [\r\n      "node_modules",        // \u5ffd\u7565\u4f9d\u8d56\u5305\u76ee\u5f55\r\n      "dist",                // \u5ffd\u7565\u6784\u5efa\u8f93\u51fa\u76ee\u5f55\r\n      "vite.config.ts",      // \u5ffd\u7565 Vite \u914d\u7f6e\u6587\u4ef6\r\n      "vite.es.config.ts",   // \u5ffd\u7565 Vite \u914d\u7f6e\u6587\u4ef6\r\n      "src/js/lib/**/*.{js,ts}", // \u5ffd\u7565\u7b2c\u4e09\u65b9\u5e93\u76ee\u5f55\r\n      "src/jsx/lib/*.{js,ts}", // \u5ffd\u7565\u7b2c\u4e09\u65b9\u5e93\u76ee\u5f55\r\n      "src/jsx/*.{js,ts}",   // \u5ffd\u7565 jsx \u4e3b\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6 (\u53ef\u6839\u636e\u9879\u76ee\u7ed3\u6784\u8c03\u6574)\r\n    ]\r\n  },\r\n  eslint.configs.recommended,\r\n  ...tseslint.configs.recommended,\r\n);\n'})}),"\n",(0,t.jsx)(n.h2,{id:"\u4e3a-react-\u548c-jsx-\u6dfb\u52a0\u89c4\u5219",children:"\u4e3a React \u548c JSX \u6dfb\u52a0\u89c4\u5219"}),"\n",(0,t.jsx)(n.p,{children:"\u5982\u679c\u4f60\u7684\u9879\u76ee\u4f7f\u7528\u4e86 React\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u6dfb\u52a0\u4e13\u95e8\u7528\u4e8e\u68c0\u67e5 React \u4ee3\u7801\u3001Hooks \u7528\u6cd5\u4ee5\u53ca JSX \u53ef\u8bbf\u95ee\u6027\u7684\u63d2\u4ef6\u3002"}),"\n",(0,t.jsx)(n.p,{children:"\u9996\u5148\uff0c\u5b89\u88c5\u76f8\u5173\u63d2\u4ef6\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install --save-dev eslint-plugin-react eslint-plugin-react-hooks eslint-plugin-jsx-a11y\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"eslint-plugin-react"}),": \u5305\u542b React \u76f8\u5173\u7684\u6838\u5fc3\u89c4\u5219\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"eslint-plugin-react-hooks"}),": \u5f3a\u5236\u6267\u884c React Hooks \u7684\u4f7f\u7528\u89c4\u5219\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"eslint-plugin-jsx-a11y"}),": \u68c0\u67e5 JSX \u5143\u7d20\u7684\u53ef\u8bbf\u95ee\u6027 (Accessibility)\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\u7136\u540e\uff0c\u5c06\u8fd9\u4e9b\u63d2\u4ef6\u7684\u914d\u7f6e\u6dfb\u52a0\u5230 ",(0,t.jsx)(n.code,{children:"eslint.config.js"})," \u4e2d\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// \u5728\u6587\u4ef6\u9876\u90e8\u6dfb\u52a0 import\r\nimport react from 'eslint-plugin-react';\r\nimport reactHooks from 'eslint-plugin-react-hooks';\r\nimport jsxA11y from 'eslint-plugin-jsx-a11y';\r\n\r\n// ... \u5176\u4ed6\u914d\u7f6e\r\n\r\n// \u6dfb\u52a0\u9488\u5bf9 React \u6587\u4ef6\u7684\u914d\u7f6e\u5757\r\n{\r\n  files: ['src/js/**/*.{js,jsx,ts,tsx}'], // \u4ec5\u5bf9 React/JSX \u6587\u4ef6\u751f\u6548\r\n  plugins: {\r\n    react,\r\n    'react-hooks': reactHooks,\r\n    'jsx-a11y': jsxA11y,\r\n  },\r\n  languageOptions: {\r\n    ...react.configs.flat.recommended.languageOptions,\r\n  },\r\n  rules: {\r\n    ...react.configs.flat.recommended.rules,\r\n    ...reactHooks.configs.recommended.rules,\r\n    ...jsxA11y.configs.recommended.rules,\r\n    'react/prop-types': 'off', // \u5982\u679c\u4f7f\u7528 TypeScript\uff0c\u53ef\u4ee5\u7981\u7528 prop-types \u6821\u9a8c\r\n  },\r\n  settings: {\r\n    react: {\r\n      version: 'detect', // \u81ea\u52a8\u68c0\u6d4b\u9879\u76ee\u4e2d\u5b89\u88c5\u7684 React \u7248\u672c\r\n    },\r\n  },\r\n},\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u4e3a\u6d4b\u8bd5\u6587\u4ef6\u914d\u7f6e-jest-\u89c4\u5219",children:"\u4e3a\u6d4b\u8bd5\u6587\u4ef6\u914d\u7f6e Jest \u89c4\u5219"}),"\n",(0,t.jsxs)(n.p,{children:["\u5bf9\u4e8e\u6d4b\u8bd5\u6587\u4ef6\uff0c\u6211\u4eec\u901a\u5e38\u4f1a\u653e\u5bbd\u4e00\u4e9b\u89c4\u5219\uff08\u5982\u5141\u8bb8\u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"any"})," \u7c7b\u578b\u8fdb\u884c mock\uff09\u3002",(0,t.jsx)(n.code,{children:"eslint-plugin-jest"})," \u63d0\u4f9b\u4e86\u4e13\u95e8\u9488\u5bf9\u6d4b\u8bd5\u6846\u67b6 Jest \u7684\u89c4\u5219\u96c6\u3002"]}),"\n",(0,t.jsx)(n.p,{children:"\u9996\u5148\uff0c\u5b89\u88c5\u63d2\u4ef6\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install --save-dev eslint-plugin-jest\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u63a5\u7740\uff0c\u5f15\u5165\u5e76\u914d\u7f6e\u5b83\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// \u5728\u6587\u4ef6\u9876\u90e8\u6dfb\u52a0 import\r\nimport jest from 'eslint-plugin-jest';\r\n\r\n// ... \u5176\u4ed6\u914d\u7f6e\r\n\r\n// \u6dfb\u52a0\u9488\u5bf9\u6d4b\u8bd5\u6587\u4ef6\u7684\u914d\u7f6e\u5757\r\n{\r\n  files: ['src/test/**/*.{js,jsx,ts,tsx}'], // \u4ec5\u5bf9\u6d4b\u8bd5\u6587\u4ef6\u751f\u6548\r\n  ...jest.configs['flat/recommended'],\r\n  rules: {\r\n    ...jest.configs['flat/recommended'].rules,\r\n    // \u8986\u76d6\u6216\u7981\u7528\u4e0d\u9002\u7528\u4e8e\u6d4b\u8bd5\u7684\u89c4\u5219\r\n    '@typescript-eslint/no-explicit-any': 'off', // \u5141\u8bb8\u5728\u6d4b\u8bd5\u4e2d\u4f7f\u7528 any \u7c7b\u578b\uff0c\u65b9\u4fbf mock\r\n    '@typescript-eslint/no-non-null-assertion': 'off', // \u5141\u8bb8\u5728\u6d4b\u8bd5\u4e2d\u4f7f\u7528\u975e\u7a7a\u65ad\u8a00 (!)\r\n    '@typescript-eslint/ban-ts-comment': 'off', // \u5141\u8bb8\u5728\u6d4b\u8bd5\u4e2d\u4f7f\u7528 // @ts-ignore\r\n    'jest/expect-expect': 'warn', // \u63d0\u9192\u6bcf\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u90fd\u5e94\u5305\u542b\u65ad\u8a00\r\n  },\r\n},\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u5b89\u88c5-prettier",children:"\u5b89\u88c5 Prettier"}),"\n",(0,t.jsx)(n.p,{children:"\u6700\u540e\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u5b89\u88c5 Prettier\uff0c\u5b83\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u81ea\u52a8\u5316\u5730\u683c\u5f0f\u5316\u4ee3\u7801\uff0c\u786e\u4fdd\u4ee3\u7801\u98ce\u683c\u7684\u4e00\u81f4\u6027\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install --save-dev prettier eslint-config-prettier eslint-plugin-prettier\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"prettier"}),": \u4ee3\u7801\u683c\u5f0f\u5316\u5de5\u5177\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"eslint-config-prettier"}),": \u7981\u7528 ESLint \u89c4\u5219\uff0c\u4ee5\u9632\u4e0e Prettier \u4ea7\u751f\u51b2\u7a81\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"eslint-plugin-prettier"}),": \u8ba9 ESLint \u4e0e Prettier \u534f\u540c\u5de5\u4f5c\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\u7136\u540e\uff0c\u5728 ",(0,t.jsx)(n.code,{children:"eslint.config.js"})," \u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u914d\u7f6e\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import eslint from '@eslint/js';\r\nimport tseslint from 'typescript-eslint';\r\nimport react from 'eslint-plugin-react';\r\nimport reactHooks from 'eslint-plugin-react-hooks';\r\nimport jsxA11y from 'eslint-plugin-jsx-a11y';\r\nimport jest from 'eslint-plugin-jest';\r\nimport prettier from 'eslint-plugin-prettier/recommended'; // \u6dfb\u52a0\u8fd9\u4e2a\r\n\r\nexport default tseslint.config(\r\n  // \u5168\u5c40\u5ffd\u7565\u914d\u7f6e\r\n\r\n  // React \u76f8\u5173\u89c4\u5219\r\n\r\n  // Jest \u6d4b\u8bd5\u76f8\u5173\u89c4\u5219\r\n  {\r\n    files: ['src/jsx/**/*.test.{js,jsx,ts,tsx}'],\r\n    ...jest.configs['flat/recommended'],\r\n    rules: {\r\n      ...jest.configs['flat/recommended'].rules,\r\n      '@typescript-eslint/no-explicit-any': 'off',\r\n      '@typescript-eslint/no-non-null-assertion': 'off',\r\n      '@typescript-eslint/ban-ts-comment': 'off',\r\n      'jest/expect-expect': 'warn',\r\n    },\r\n  },\r\n  prettier, // \u6dfb\u52a0\u8fd9\u4e2a\r\n);\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u4f60\u8fd8\u9700\u8981\u521b\u5efa ",(0,t.jsx)(n.code,{children:".prettierrc.mjs"})," \u6587\u4ef6\u5230\u6846\u67b6\u4e3b\u76ee\u5f55\u4e0b\uff0c\u5373\u548c ",(0,t.jsx)(n.code,{children:"package.json"})," \u540c\u7ea7\uff0c\u5b83\u6307\u5b9a\u4e86 Prettier \u7684\u9ed8\u8ba4\u683c\u5f0f\u5316\u89c4\u5219\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const config = {\r\n  // \u4e00\u884c\u6700\u591a 120 \u5b57\u7b26\r\n  printWidth: 120,\r\n  // \u4f7f\u7528 n \u4e2a\u7a7a\u683c\u7f29\u8fdb\r\n  tabWidth: 2,\r\n  // \u4e0d\u4f7f\u7528\u7f29\u8fdb\u7b26\uff0c\u800c\u4f7f\u7528\u7a7a\u683c\r\n  useTabs: false,\r\n  // \u884c\u5c3e\u9700\u8981\u6709\u5206\u53f7\r\n  semi: true,\r\n  // \u4f7f\u7528\u5355\u5f15\u53f7\r\n  singleQuote: true,\r\n  // \u5bf9\u8c61\u7684 key \u4ec5\u5728\u5fc5\u8981\u65f6\u7528\u5f15\u53f7\r\n  quoteProps: 'as-needed',\r\n  // jsx \u4e0d\u4f7f\u7528\u5355\u5f15\u53f7\uff0c\u800c\u4f7f\u7528\u53cc\u5f15\u53f7\r\n  jsxSingleQuote: false,\r\n  // \u672b\u5c3e\u9700\u8981\u6709\u9017\u53f7\r\n  trailingComma: 'all',\r\n  // \u5927\u62ec\u53f7\u5185\u7684\u9996\u5c3e\u9700\u8981\u7a7a\u683c\r\n  bracketSpacing: true,\r\n  // jsx \u6807\u7b7e\u7684\u53cd\u5c16\u62ec\u53f7\u9700\u8981\u6362\u884c\r\n  bracketSameLine: false,\r\n  // \u7bad\u5934\u51fd\u6570\uff0c\u53ea\u6709\u4e00\u4e2a\u53c2\u6570\u7684\u65f6\u5019\uff0c\u4e5f\u9700\u8981\u62ec\u53f7\r\n  arrowParens: 'always',\r\n  // \u6bcf\u4e2a\u6587\u4ef6\u683c\u5f0f\u5316\u7684\u8303\u56f4\u662f\u6587\u4ef6\u7684\u5168\u90e8\u5185\u5bb9\r\n  rangeStart: 0,\r\n  rangeEnd: Infinity,\r\n  // \u4e0d\u9700\u8981\u5199\u6587\u4ef6\u5f00\u5934\u7684 @prettier\r\n  requirePragma: false,\r\n  // \u4e0d\u9700\u8981\u81ea\u52a8\u5728\u6587\u4ef6\u5f00\u5934\u63d2\u5165 @prettier\r\n  insertPragma: false,\r\n  // \u4f7f\u7528\u9ed8\u8ba4\u7684\u6298\u884c\u6807\u51c6\r\n  proseWrap: 'preserve',\r\n  // \u6839\u636e\u663e\u793a\u6837\u5f0f\u51b3\u5b9a html \u8981\u4e0d\u8981\u6298\u884c\r\n  htmlWhitespaceSensitivity: 'css',\r\n  // vue \u6587\u4ef6\u4e2d\u7684 script \u548c style \u5185\u4e0d\u7528\u7f29\u8fdb\r\n  vueIndentScriptAndStyle: false,\r\n  // \u6362\u884c\u7b26\u4f7f\u7528 lf\r\n  endOfLine: 'lf',\r\n  // \u683c\u5f0f\u5316\u5185\u5d4c\u4ee3\u7801\r\n  embeddedLanguageFormatting: 'auto',\r\n};\r\n\r\nexport default config;\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["\u8be5\u914d\u7f6e\u793a\u4f8b\u6765\u6e90\u4e8e ",(0,t.jsx)(n.a,{href:"https://github.com/OpenWebGAL/WebGAL/blob/main/packages/webgal/.prettierrc.js",children:"WebGAL"})," \u9879\u76ee\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c",(0,t.jsx)(n.code,{children:"bolt-cep"})," \u9879\u76ee\u5728\u5176 ",(0,t.jsx)(n.code,{children:"package.json"})," \u4e2d\u8bbe\u7f6e\u4e86 ",(0,t.jsx)(n.code,{children:'"type": "module"'}),"\uff0c\u8fd9\u610f\u5473\u7740\u9879\u76ee\u4e2d\u7684 ",(0,t.jsx)(n.code,{children:".js"})," \u6587\u4ef6\u9ed8\u8ba4\u88ab\u5f53\u4f5c ES \u6a21\u5757\u5904\u7406\u3002"]}),"\n",(0,t.jsxs)(n.p,{children:["\u56e0\u6b64\uff0c\u6211\u4eec\u5fc5\u987b\u5c06 WebGAL \u539f\u6765\u7684 CommonJS \u683c\u5f0f (",(0,t.jsx)(n.code,{children:"module.exports"}),") \u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u8f6c\u6362\u4e3a\u73b0\u4ee3\u7684 ES \u6a21\u5757\u683c\u5f0f (",(0,t.jsx)(n.code,{children:"export default"}),")\u3002\u867d\u7136\u76f4\u63a5\u5728 ",(0,t.jsx)(n.code,{children:".prettierrc.js"})," \u6587\u4ef6\u4e2d\u4f7f\u7528\u65b0\u8bed\u6cd5\u4e5f\u662f\u53ef\u884c\u7684\uff0c\u4f46\u6211\u4eec\u9009\u62e9\u5c06\u5176\u91cd\u547d\u540d\u4e3a ",(0,t.jsx)(n.code,{children:".prettierrc.mjs"}),"\uff0c\u4ee5\u6b64\u6765\u6e05\u6670\u5730\u8868\u660e\u5b83\u662f\u4e00\u4e2a ES \u6a21\u5757\u6587\u4ef6\uff0c\u907f\u514d\u6df7\u6dc6\u3002\r\n\u4e0a\u65b9\u7684\u793a\u4f8b\u5df2\u7ecf\u5c06 CommonJS \u8f6c\u6362\u6210 ES \u6a21\u5757\u683c\u5f0f\uff0c\u8bf7\u4e0d\u7528\u62c5\u5fc3\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\u4e3a\u4e86\u9632\u6b62 Prettier \u628a ",(0,t.jsx)(n.code,{children:"bolt-cep"})," \u81ea\u5e26\u7684 ",(0,t.jsx)(n.code,{children:"lib"})," \u4e5f\u683c\u5f0f\u5316\uff0c\u8fd9\u4e00\u70b9\u662f\u4e3a\u4e86\u9879\u76ee\u7a33\u5b9a\u6027\u800c\u8003\u8651\u7684\u3002\u6211\u4eec\u9700\u8981 ",(0,t.jsx)(n.code,{children:".prettierignore"})," \u6587\u4ef6\uff0c\u5b83\u6307\u5b9a\u4e86\u4e0d\u683c\u5f0f\u5316\u7684\u6587\u4ef6\u548c\u76ee\u5f55\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"*.md\r\n*.css\r\n*.scss\r\n*.otf\r\n*.svg\r\n\r\nsrc/js/lib/\r\nsrc/jsx/lib/\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"src/js/lib"})," \u662f ",(0,t.jsx)(n.code,{children:"bolt-cep"})," \u81ea\u5e26\u7684\u5de5\u5177\u5e93\u76ee\u5f55\uff0c\u800c ",(0,t.jsx)(n.code,{children:"src/jsx/lib"})," \u662f Host \u7aef\u7684\u7b2c\u4e09\u65b9 JS \u5e93\u76ee\u5f55\uff0c\u901a\u5e38\u90fd\u4e3a\u538b\u7f29\u8fc7\u7684\u5e93\u6587\u4ef6\uff0c\u4e0d\u9002\u5408\u683c\u5f0f\u5316\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"\u6700\u7ec8\u5b8c\u6574\u914d\u7f6e",children:"\u6700\u7ec8\u5b8c\u6574\u914d\u7f6e"}),"\n",(0,t.jsxs)(n.p,{children:["\u5c06\u4ee5\u4e0a\u6240\u6709\u90e8\u5206\u6574\u5408\u540e\uff0c\u4f60\u7684 ",(0,t.jsx)(n.code,{children:"eslint.config.js"})," \u6587\u4ef6\u5e94\u8be5\u5982\u4e0b\u6240\u793a\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// eslint.config.js\r\nimport eslint from '@eslint/js';\r\nimport tseslint from 'typescript-eslint';\r\nimport react from 'eslint-plugin-react';\r\nimport reactHooks from 'eslint-plugin-react-hooks';\r\nimport jsxA11y from 'eslint-plugin-jsx-a11y';\r\nimport jest from 'eslint-plugin-jest';\r\nimport prettier from 'eslint-plugin-prettier/recommended'; \r\n\r\nexport default tseslint.config(\r\n  // \u5168\u5c40\u5ffd\u7565\u914d\u7f6e\r\n  {\r\n    ignores: [\r\n      \"node_modules\",\r\n      \"dist\",\r\n      \"vite.config.ts\",\r\n      \"vite.es.config.ts\",\r\n      \"src/js/lib/**/*.{js,ts}\",\r\n      \"src/jsx/lib/*.{js,ts}\",\r\n      \"src/jsx/*.{js,ts}\",\r\n    ]\r\n  },\r\n\r\n  // \u57fa\u7840\u89c4\u5219\r\n  eslint.configs.recommended,\r\n  ...tseslint.configs.recommended,\r\n\r\n  // React \u76f8\u5173\u89c4\u5219\r\n  {\r\n    files: ['src/js/**/*.{js,jsx,ts,tsx}'],\r\n    plugins: {\r\n      react,\r\n      'react-hooks': reactHooks,\r\n      'jsx-a11y': jsxA11y,\r\n    },\r\n    languageOptions: {\r\n      ...react.configs.flat.recommended.languageOptions,\r\n    },\r\n    rules: {\r\n      ...react.configs.flat.recommended.rules,\r\n      ...reactHooks.configs.recommended.rules,\r\n      ...jsxA11y.configs.recommended.rules,\r\n      'react/react-in-jsx-scope': 'off',\r\n      'react/prop-types': 'off',\r\n    },\r\n    settings: {\r\n      react: {\r\n        version: 'detect',\r\n      },\r\n    },\r\n  },\r\n\r\n  // Jest \u6d4b\u8bd5\u76f8\u5173\u89c4\u5219\r\n  {\r\n    files: ['src/jsx/**/*.test.{js,jsx,ts,tsx}'],\r\n    ...jest.configs['flat/recommended'],\r\n    rules: {\r\n      ...jest.configs['flat/recommended'].rules,\r\n      '@typescript-eslint/no-explicit-any': 'off',\r\n      '@typescript-eslint/no-non-null-assertion': 'off',\r\n      '@typescript-eslint/ban-ts-comment': 'off',\r\n      'jest/expect-expect': 'warn',\r\n    },\r\n  },\r\n  prettier, // Prettier \u914d\u7f6e\r\n);\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u5173\u4e8e\u66f4\u591a\u7684\u914d\u7f6e\u9009\u9879\uff0c\u8bf7\u53c2\u8003 ESLint \u4ee5\u53ca\u76f8\u5173\u63d2\u4ef6\u7684\u6587\u6863\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"\u7f16\u8f91\u5668\u96c6\u6210",children:"\u7f16\u8f91\u5668\u96c6\u6210"}),"\n",(0,t.jsxs)(n.p,{children:["\u6700\u540e\u4e00\u6b65\uff0c\u4e3a\u4e86\u83b7\u5f97\u6700\u4f73\u7684\u5f00\u53d1\u4f53\u9a8c\uff08\u4f8b\u5982\u5b9e\u65f6\u9519\u8bef\u63d0\u793a\u548c\u81ea\u52a8\u4fee\u590d\uff09\uff0c\u8bf7\u4e3a\u4f60\u7684 IDE \u6216\u4ee3\u7801\u7f16\u8f91\u5668\uff08\u5982 VS Code\u3001WebStorm \u7b49\uff09\u5b89\u88c5\u76f8\u5e94\u7684 ESLint \u63d2\u4ef6\u3002\u5b89\u88c5\u540e\uff0c\u5b83\u4f1a\u81ea\u52a8\u8bfb\u53d6 ",(0,t.jsx)(n.code,{children:"eslint.config.js"})," \u6587\u4ef6\u5e76\u5f00\u59cb\u5de5\u4f5c\u3002"]}),"\n",(0,t.jsx)(n.p,{children:"\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u4f60\u5c31\u4e3a\u9879\u76ee\u6210\u529f\u914d\u7f6e\u4e86\u4e00\u5957\u73b0\u4ee3\u5316\u3001\u529f\u80fd\u5b8c\u5907\u7684 ESLint \u89c4\u5219\uff0c\u4e3a\u4ee3\u7801\u8d28\u91cf\u548c\u56e2\u961f\u534f\u4f5c\u6548\u7387\u63d0\u4f9b\u4e86\u6709\u529b\u4fdd\u969c\u3002"})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>l});var s=r(6540);const t={},i=s.createContext(t);function c(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);