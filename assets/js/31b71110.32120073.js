"use strict";(self.webpackChunkspringlight_traces=self.webpackChunkspringlight_traces||[]).push([[675],{8021:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"extend-script/av-layer","title":"\u97f3\u89c6\u89c9\u56fe\u5c42 \u2014\u2014 AVLayer","description":"\u672c\u7ae0\u5185\u5bb9\u4ecd\u5728\u6301\u7eed\u5b8c\u5584\u4e0e\u66f4\u65b0\u4e2d\uff0c\u66f4\u591a\u7cbe\u5f69\u656c\u8bf7\u671f\u5f85\uff01","source":"@site/docs/extend-script/8-av-layer.mdx","sourceDirName":"extend-script","slug":"/extend-script/av-layer","permalink":"/springlight-traces/extend-script/av-layer","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u5c5e\u6027 \u2014\u2014 Property","permalink":"/springlight-traces/extend-script/property"},"next":{"title":"\u6444\u50cf\u673a\u56fe\u5c42 \u2014\u2014 CameraLayer","permalink":"/springlight-traces/extend-script/camera-layer"}}');var a=n(4848),i=n(8453);const s={},t="\u97f3\u89c6\u89c9\u56fe\u5c42 \u2014\u2014 AVLayer",c={},d=[{value:"AVLayer",id:"avlayer",level:2},{value:"AVLayer \u8986\u76d6\u7684\u8303\u56f4\u5230\u5e95\u6709\u591a\u5e7f\uff1f",id:"avlayer-\u8986\u76d6\u7684\u8303\u56f4\u5230\u5e95\u6709\u591a\u5e7f",level:3},{value:"\u83b7\u53d6\u97f3\u89c6\u89c9\u56fe\u5c42\u7684\u6765\u6e90\u5bf9\u8c61",id:"\u83b7\u53d6\u97f3\u89c6\u89c9\u56fe\u5c42\u7684\u6765\u6e90\u5bf9\u8c61",level:3},{value:"\u83b7\u53d6\u97f3\u89c6\u89c9\u56fe\u5c42\u7684\u5c3a\u5bf8",id:"\u83b7\u53d6\u97f3\u89c6\u89c9\u56fe\u5c42\u7684\u5c3a\u5bf8",level:3},{value:"\u56fe\u5c42\u5c5e\u6027\u5f00\u5173\uff1a\u8c03\u6574\u56fe\u5c42\u3001\u8fd0\u52a8\u6a21\u7cca\u30013D\u56fe\u5c42\u3001\u73af\u5883\u56fe\u5c42\u3001\u53c2\u8003\u56fe\u5c42",id:"\u56fe\u5c42\u5c5e\u6027\u5f00\u5173\u8c03\u6574\u56fe\u5c42\u8fd0\u52a8\u6a21\u7cca3d\u56fe\u5c42\u73af\u5883\u56fe\u5c42\u53c2\u8003\u56fe\u5c42",level:3},{value:"\u5e27\u6df7\u5408\u6a21\u5f0f",id:"\u5e27\u6df7\u5408\u6a21\u5f0f",level:3},{value:"\u6df7\u5408\u6a21\u5f0f",id:"\u6df7\u5408\u6a21\u5f0f",level:3},{value:"\u56fe\u5c42\u54c1\u8d28\u4e0e\u91c7\u6837\u54c1\u8d28",id:"\u56fe\u5c42\u54c1\u8d28\u4e0e\u91c7\u6837\u54c1\u8d28",level:3},{value:"\u5728\u67e5\u770b\u5668\u4e2d\u6253\u5f00\u56fe\u5c42",id:"\u5728\u67e5\u770b\u5668\u4e2d\u6253\u5f00\u56fe\u5c42",level:3},{value:"TextLayer",id:"textlayer",level:2},{value:"\u83b7\u53d6\u6587\u672c\u5185\u5bb9",id:"\u83b7\u53d6\u6587\u672c\u5185\u5bb9",level:3},{value:"\u8bbf\u95ee\u8def\u5f84\u9009\u9879\u4e0e\u66f4\u591a\u9009\u9879",id:"\u8bbf\u95ee\u8def\u5f84\u9009\u9879\u4e0e\u66f4\u591a\u9009\u9879",level:3},{value:"ShapeLayer",id:"shapelayer",level:2}];function o(e){const r={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.header,{children:(0,a.jsx)(r.h1,{id:"\u97f3\u89c6\u89c9\u56fe\u5c42--avlayer",children:"\u97f3\u89c6\u89c9\u56fe\u5c42 \u2014\u2014 AVLayer"})}),"\n",(0,a.jsx)(r.admonition,{type:"tip",children:(0,a.jsx)(r.p,{children:"\u672c\u7ae0\u5185\u5bb9\u4ecd\u5728\u6301\u7eed\u5b8c\u5584\u4e0e\u66f4\u65b0\u4e2d\uff0c\u66f4\u591a\u7cbe\u5f69\u656c\u8bf7\u671f\u5f85\uff01"})}),"\n",(0,a.jsx)(r.h2,{id:"avlayer",children:"AVLayer"}),"\n",(0,a.jsx)(r.p,{children:"AVLayer \u7ee7\u627f\u81ea Layer\uff0c\u662f\u4e00\u4e2a\u4e13\u95e8\u5904\u7406\u97f3\u89c6\u89c9\u5185\u5bb9\u7684\u7279\u6b8a\u56fe\u5c42\u3002"}),"\n",(0,a.jsx)(r.p,{children:"\u4e0a\u4e00\u7ae0\u6211\u4eec\u4ecb\u7ecd\u4e86 Property \u7b49\u6838\u5fc3\u6982\u5ff5\uff0c\u76f8\u4fe1\u4f60\u5bf9\u5c5e\u6027\u53ca\u5c5e\u6027\u7ec4\u7684\u8fd0\u7528\u5df2\u6709\u4e86\u521d\u6b65\u7684\u638c\u63e1\u3002"}),"\n",(0,a.jsx)(r.p,{children:"\u672c\u7ae0\u6211\u4eec\u5c06\u5728\u6b64\u57fa\u7840\u4e0a\uff0c\u7ee7\u7eed\u6df1\u5165\u63a2\u7d22 AVLayer \u7684\u7279\u6027\u3002"}),"\n",(0,a.jsx)(r.h3,{id:"avlayer-\u8986\u76d6\u7684\u8303\u56f4\u5230\u5e95\u6709\u591a\u5e7f",children:"AVLayer \u8986\u76d6\u7684\u8303\u56f4\u5230\u5e95\u6709\u591a\u5e7f\uff1f"}),"\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.code,{children:"AVLayer"})," \u610f\u4e3a\u97f3\u89c6\u89c9\u56fe\u5c42\uff0c\u8fd9\u610f\u5473\u7740\u4ee5\u4e0b\u7c7b\u578b\u7684\u56fe\u5c42\u5747\u5728\u5176\u8303\u7574\u4e4b\u5185\uff1a"]}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:"\u7eaf\u8272\u586b\u5145 (Solid Color)"}),"\n",(0,a.jsx)(r.li,{children:"\u56fe\u7247 (Image)"}),"\n",(0,a.jsx)(r.li,{children:"\u89c6\u9891 (Video)"}),"\n",(0,a.jsx)(r.li,{children:"\u97f3\u9891 (Audio)"}),"\n",(0,a.jsx)(r.li,{children:"\u7a7a\u5bf9\u8c61 (Null Object)"}),"\n",(0,a.jsx)(r.li,{children:"\u8c03\u6574\u56fe\u5c42 (Adjustment Layer)"}),"\n"]}),"\n",(0,a.jsxs)(r.p,{children:["\u8fd9\u4e9b\u90fd\u662f ",(0,a.jsx)(r.code,{children:"AVLayer"})," \u7684\u8986\u76d6\u8303\u56f4\u3002"]}),"\n",(0,a.jsx)(r.h3,{id:"\u83b7\u53d6\u97f3\u89c6\u89c9\u56fe\u5c42\u7684\u6765\u6e90\u5bf9\u8c61",children:"\u83b7\u53d6\u97f3\u89c6\u89c9\u56fe\u5c42\u7684\u6765\u6e90\u5bf9\u8c61"}),"\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.code,{children:"AVLayer"})," \u63d0\u4f9b\u4e86\u4e00\u4e2a ",(0,a.jsx)(r.code,{children:"source"})," \u5c5e\u6027\uff0c\u901a\u8fc7\u8be5\u5c5e\u6027\u53ef\u4ee5\u83b7\u53d6\u97f3\u89c6\u89c9\u56fe\u5c42\u7684\u6765\u6e90\u5bf9\u8c61\u3002"]}),"\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.code,{children:"source"})," \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a ",(0,a.jsx)(r.code,{children:"any"})," \u7c7b\u578b\u7684\u503c\uff0c\u8868\u660e\u5176\u5177\u4f53\u7c7b\u578b\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u8fd9\u53d6\u51b3\u4e8e\u56fe\u5c42\u7684\u5b9e\u9645\u6765\u6e90\u3002"]}),"\n",(0,a.jsx)(r.p,{children:"\u4f8b\u5982\uff0c\u82e5\u8981\u83b7\u53d6\u97f3\u89c6\u89c9\u56fe\u5c42\u7684\u7d20\u6750\u5bf9\u8c61\uff08FootageItem\uff09\uff0c\u53ef\u4ee5\u53c2\u8003\u4ee5\u4e0b\u505a\u6cd5\uff1a"}),"\n",(0,a.jsxs)(r.p,{children:["\u8bf7\u6ce8\u610f\uff0c\u7531\u4e8e ",(0,a.jsx)(r.code,{children:"AVLayer"})," \u7ee7\u627f\u81ea ",(0,a.jsx)(r.code,{children:"Layer"}),"\uff0c",(0,a.jsx)(r.code,{children:"comp.layer(1)"})," \u5b9e\u9645\u8fd4\u56de\u7684\u5bf9\u8c61\u53ef\u80fd\u662f ",(0,a.jsx)(r.code,{children:"Layer"})," \u7c7b\u578b\uff0c\u56e0\u6b64\u8fdb\u884c\u663e\u5f0f\u7684\u7c7b\u578b\u5224\u65ad\u662f\u5fc5\u8981\u7684\u3002"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'const comp = app.project.activeItem as CompItem;\r\n\r\nif (!(comp instanceof CompItem)) {\r\n    throw new Error("\u5f53\u524d\u9879\u76ee\u6ca1\u6709\u5408\u6210");\r\n}\r\n\r\nconst layer = comp.layer(1) as AVLayer; // \u9009\u62e9\u7b2c 1 \u5c42\r\n\r\nif (!(layer instanceof AVLayer)) {\r\n    throw new Error("\u5f53\u524d\u5c42\u4e0d\u662f\u97f3\u89c6\u89c9\u56fe\u5c42");\r\n}\r\n\r\nconst layerFootage = layer.source as FootageItem;\r\n\r\nif (!(layerFootage instanceof FootageItem)) {\r\n    throw new Error("\u5f53\u524d\u5c42\u6ca1\u6709\u7d20\u6750");\r\n}\r\n\r\n$.writeln(layerFootage.name); // \u6253\u5370\u7d20\u6750\u7684\u540d\u79f0\r\nlet file = layerFootage.file; // \u83b7\u53d6\u7d20\u6750\u7684\u6587\u4ef6\u5bf9\u8c61\n'})}),"\n",(0,a.jsx)(r.p,{children:"\u5173\u4e8e\u6587\u4ef6\uff08File\uff09\u5bf9\u8c61\u4ee5\u53ca\u7d20\u6750\uff08FootageItem\uff09\u5bf9\u8c61\u7684\u66f4\u591a\u7ec6\u8282\uff0c\u5c06\u5728\u540e\u7eed\u7ae0\u8282\u4e2d\u8be6\u7ec6\u9610\u8ff0\u3002"}),"\n",(0,a.jsx)(r.h3,{id:"\u83b7\u53d6\u97f3\u89c6\u89c9\u56fe\u5c42\u7684\u5c3a\u5bf8",children:"\u83b7\u53d6\u97f3\u89c6\u89c9\u56fe\u5c42\u7684\u5c3a\u5bf8"}),"\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.code,{children:"AVLayer"})," \u63d0\u4f9b\u4e86 ",(0,a.jsx)(r.code,{children:"width"})," \u548c ",(0,a.jsx)(r.code,{children:"height"})," \u5c5e\u6027\uff0c\u7528\u4ee5\u83b7\u53d6\u56fe\u5c42\u7684\u5bbd\u5ea6\u548c\u9ad8\u5ea6\u3002"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'const layer = comp.layer(1) as AVLayer; // \u9009\u62e9\u7b2c 1 \u5c42\r\n\r\nif (!(layer instanceof AVLayer)) {\r\n    throw new Error("\u5f53\u524d\u5c42\u4e0d\u662f\u97f3\u89c6\u89c9\u56fe\u5c42");\r\n}\r\n\r\n$.writeln(layer.width); // \u6253\u5370\u56fe\u5c42\u7684\u5bbd\u5ea6\r\n$.writeln(layer.height); // \u6253\u5370\u56fe\u5c42\u7684\u9ad8\u5ea6\n'})}),"\n",(0,a.jsx)(r.h3,{id:"\u56fe\u5c42\u5c5e\u6027\u5f00\u5173\u8c03\u6574\u56fe\u5c42\u8fd0\u52a8\u6a21\u7cca3d\u56fe\u5c42\u73af\u5883\u56fe\u5c42\u53c2\u8003\u56fe\u5c42",children:"\u56fe\u5c42\u5c5e\u6027\u5f00\u5173\uff1a\u8c03\u6574\u56fe\u5c42\u3001\u8fd0\u52a8\u6a21\u7cca\u30013D\u56fe\u5c42\u3001\u73af\u5883\u56fe\u5c42\u3001\u53c2\u8003\u56fe\u5c42"}),"\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.code,{children:"AVLayer"})," \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u5e03\u5c14\u578b\u5c5e\u6027\uff0c\u5305\u62ec ",(0,a.jsx)(r.code,{children:"adjustmentLayer"}),"\u3001",(0,a.jsx)(r.code,{children:"motionBlur"}),"\u3001",(0,a.jsx)(r.code,{children:"threeDLayer"}),"\u3001",(0,a.jsx)(r.code,{children:"environmentLayer"})," \u548c ",(0,a.jsx)(r.code,{children:"guideLayer"}),"\u3002\u8fd9\u4e9b\u5c5e\u6027\u53ef\u7528\u4e8e\u67e5\u8be2\u6216\u8bbe\u7f6e\u56fe\u5c42\u662f\u5426\u4e3a\u8c03\u6574\u56fe\u5c42\u3001\u662f\u5426\u542f\u7528\u8fd0\u52a8\u6a21\u7cca\u3001\u662f\u5426\u4e3a3D\u56fe\u5c42\u3001\u662f\u5426\u4e3a\u73af\u5883\u56fe\u5c42\u4ee5\u53ca\u662f\u5426\u4e3a\u53c2\u8003\u56fe\u5c42\u3002"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'const layer = comp.layer(1) as AVLayer; // \u9009\u62e9\u7b2c 1 \u5c42\r\n\r\nif (!(layer instanceof AVLayer)) {\r\n    throw new Error("\u5f53\u524d\u5c42\u4e0d\u662f\u97f3\u89c6\u89c9\u56fe\u5c42");\r\n}\r\n\r\nconst adjustmentLayer = layer.adjustmentLayer; // \u56fe\u5c42\u662f\u5426\u662f\u8c03\u6574\u56fe\u5c42\r\nconst motionBlur = layer.motionBlur; // \u56fe\u5c42\u662f\u5426\u5f00\u542f\u8fd0\u52a8\u6a21\u7cca\r\nconst threeDLayer = layer.threeDLayer; // \u56fe\u5c42\u662f\u5426\u662f 3D \u56fe\u5c42\r\nconst environmentLayer = layer.environmentLayer; // \u56fe\u5c42\u662f\u5426\u662f\u73af\u5883\u56fe\u5c42\r\nconst guideLayer = layer.guideLayer; // \u56fe\u5c42\u662f\u5426\u662f\u53c2\u8003\u56fe\u5c42\r\n\r\nlayer.adjustmentLayer = true; // \u5c06\u56fe\u5c42\u8bbe\u7f6e\u4e3a\u8c03\u6574\u56fe\u5c42\r\nlayer.motionBlur = true; // \u4e3a\u56fe\u5c42\u5f00\u542f\u8fd0\u52a8\u6a21\u7cca\r\nlayer.threeDLayer = true; // \u5c06\u56fe\u5c42\u8bbe\u7f6e\u4e3a 3D \u56fe\u5c42\r\nlayer.environmentLayer = true; // \u5c06\u56fe\u5c42\u8bbe\u7f6e\u4e3a\u73af\u5883\u56fe\u5c42\r\nlayer.guideLayer = true; // \u5c06\u56fe\u5c42\u8bbe\u7f6e\u4e3a\u53c2\u8003\u56fe\u5c42\n'})}),"\n",(0,a.jsx)(r.h3,{id:"\u5e27\u6df7\u5408\u6a21\u5f0f",children:"\u5e27\u6df7\u5408\u6a21\u5f0f"}),"\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.code,{children:"AVLayer"})," \u901a\u8fc7 ",(0,a.jsx)(r.code,{children:"frameBlendingType"})," \u5c5e\u6027\u6765\u83b7\u53d6\u6216\u8bbe\u7f6e\u56fe\u5c42\u7684\u5e27\u6df7\u5408\u6a21\u5f0f\u3002"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",metastring:'title="FrameBlendingType"',children:"declare enum FrameBlendingType {\r\n  FRAME_MIX = 4013, // \u5e27\u6df7\u5408\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u5e27\u6df7\u5408\u6a21\u5f0f -> \u5e27\u6df7\u5408\u201d\r\n  NO_FRAME_BLEND = 4012, // \u4e0d\u4f7f\u7528\u5e27\u6df7\u5408\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u5e27\u6df7\u5408\u6a21\u5f0f -> \u5173\u201d\r\n  PIXEL_MOTION = 4014, // \u50cf\u7d20\u8fd0\u52a8\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u5e27\u6df7\u5408\u6a21\u5f0f -> \u50cf\u7d20\u8fd0\u52a8\u201d\r\n}\n"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'const layer = comp.layer(1) as AVLayer; // \u9009\u62e9\u7b2c 1 \u5c42\r\n\r\nif (!(layer instanceof AVLayer)) {\r\n    throw new Error("\u5f53\u524d\u5c42\u4e0d\u662f\u97f3\u89c6\u89c9\u56fe\u5c42");\r\n}\r\n\r\nlet frameBlending = layer.frameBlendingType; // \u83b7\u53d6\u5e27\u6df7\u5408\u6a21\u5f0f\r\n\r\nlayer.frameBlendingType = FrameBlendingType.FRAME_MIX; // \u8bbe\u7f6e\u5e27\u6df7\u5408\u6a21\u5f0f\u4e3a \u5e27\u6df7\u5408\n'})}),"\n",(0,a.jsxs)(r.p,{children:["\u6b64\u5916\uff0c\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7 ",(0,a.jsx)(r.code,{children:"frameBlending"})," \u5c5e\u6027\u6765\u68c0\u6d4b\u5f53\u524d\u662f\u5426\u542f\u7528\u4e86\u4efb\u4f55\u4e00\u79cd\u5e27\u6df7\u5408\u6a21\u5f0f\uff08\u975e ",(0,a.jsx)(r.code,{children:"NO_FRAME_BLEND"}),"\uff09\u3002"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:"layer.frameBlendingType = FrameBlendingType.FRAME_MIX;\r\nlet frameBlending = layer.frameBlending; // \u8fd4\u56de true\r\nlayer.frameBlendingType = FrameBlendingType.NO_FRAME_BLEND;\r\nlet frameBlending = layer.frameBlending; // \u8fd4\u56de false\n"})}),"\n",(0,a.jsx)(r.h3,{id:"\u6df7\u5408\u6a21\u5f0f",children:"\u6df7\u5408\u6a21\u5f0f"}),"\n",(0,a.jsxs)(r.p,{children:["\u901a\u8fc7 ",(0,a.jsx)(r.code,{children:"AVLayer"})," \u7684 ",(0,a.jsx)(r.code,{children:"blendingMode"})," \u5c5e\u6027\uff0c\u53ef\u4ee5\u83b7\u53d6\u6216\u8bbe\u5b9a\u56fe\u5c42\u7684\u6df7\u5408\u6a21\u5f0f\u3002"]}),"\n",(0,a.jsx)(r.admonition,{type:"warning",children:(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.code,{children:"BlendingMode"})," \u7684\u679a\u4e3e\u503c\u4e0eAfter Effects\u754c\u9762\u9009\u9879\u7684\u5bf9\u5e94\u5173\u7cfb\u7ffb\u8bd1\u76ee\u524d\u4e3a\u521d\u6b65\u7248\u672c\uff0c\u540e\u7eed\u4f1a\u8fdb\u884c\u6821\u8ba2\u4ee5\u63d0\u4f9b\u66f4\u51c6\u786e\u7684\u5bf9\u5e94\u8bf4\u660e\u3002"]})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",metastring:'title="BlendingMode"',children:"declare enum BlendingMode {\r\n  ADD = 5220, // \u53e0\u52a0\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u53e0\u52a0\u201d\r\n  ALPHA_ADD = 5244, // \u900f\u660e\u5ea6\u53e0\u52a0\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u900f\u660e\u5ea6\u53e0\u52a0\u201d\r\n  CLASSIC_COLOR_BURN = 5219,\r\n  CLASSIC_COLOR_DODGE = 5225,\r\n  CLASSIC_DIFFERENCE = 5234,\r\n  COLOR = 5238, // \u989c\u8272\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u989c\u8272\u201d\r\n  COLOR_BURN = 5218, // \u989c\u8272\u52a0\u6df1\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u989c\u8272\u52a0\u6df1\u201d\r\n  COLOR_DODGE = 5224,\r\n  DANCING_DISSOLVE = 5214, // \u4e1d\u72b6\u6eb6\u89e3\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u4e1d\u72b6\u6eb6\u89e3\u201d\r\n  DARKEN = 5215, // \u53d8\u6697\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u53d8\u6697\u201d\r\n  DARKER_COLOR = 5247, // \u53d8\u6697\u989c\u8272\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u53d8\u6697\u989c\u8272\u201d\r\n  DIFFERENCE = 5233, // \u5dee\u503c\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u5dee\u503c\u201d\r\n  DISSOLVE = 5213, // \u6eb6\u89e3\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u6eb6\u89e3\u201d\r\n  DIVIDE = 5249, // \u9664\u6cd5\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u9664\u6cd5\u201d\r\n  EXCLUSION = 5235, // \u6392\u9664\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u6392\u9664\u201d\r\n  HARD_LIGHT = 5228, // \u5f3a\u5149\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u5f3a\u5149\u201d\r\n  HARD_MIX = 5232, // \u5f3a\u5ea6\u6df7\u5408\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u5f3a\u5ea6\u6df7\u5408\u201d\r\n  HUE = 5236, // \u8272\u8c03\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u8272\u8c03\u201d\r\n  LIGHTEN = 5221, // \u53d8\u4eae\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u53d8\u4eae\u201d\r\n  LIGHTER_COLOR = 5246, // \u53d8\u4eae\u989c\u8272\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u53d8\u4eae\u989c\u8272\u201d\r\n  LINEAR_BURN = 5217, // \u7ebf\u6027\u52a0\u6df1\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u7ebf\u6027\u52a0\u6df1\u201d\r\n  LINEAR_DODGE = 5223, // \u7ebf\u6027\u51cf\u6de1\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u7ebf\u6027\u51cf\u6de1\u201d\r\n  LINEAR_LIGHT = 5229, // \u7ebf\u6027\u5149\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u7ebf\u6027\u5149\u201d\r\n  LUMINESCENT_PREMUL = 5245, // \u4eae\u5ea6\u9884\u4e58\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u4eae\u5ea6\u9884\u4e58\u201d\r\n  LUMINOSITY = 5239, // \u4eae\u5ea6\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u4eae\u5ea6\u201d\r\n  MULTIPLY = 5216, // \u4e58\u6cd5\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u4e58\u6cd5\u201d\r\n  NORMAL = 5212, // \u6b63\u5e38\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u6b63\u5e38\u201d\r\n  OVERLAY = 5226, // \u53e0\u52a0\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u53e0\u52a0\u201d\r\n  PIN_LIGHT = 5231, // \u70b9\u5149\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u70b9\u5149\u201d\r\n  SATURATION = 5237, // \u9971\u548c\u5ea6\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u9971\u548c\u5ea6\u201d\r\n  SCREEN = 5222, // \u5c4f\u5e55\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u5c4f\u5e55\u201d\r\n  SILHOUETE_ALPHA = 5242, // \u8f6e\u5ed3\u900f\u660e\u5ea6\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u8f6e\u5ed3\u900f\u660e\u5ea6\u201d\r\n  SILHOUETTE_LUMA = 5243, // \u8f6e\u5ed3\u4eae\u5ea6\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u8f6e\u5ed3\u4eae\u5ea6\u201d\r\n  SOFT_LIGHT = 5227, // \u67d4\u5149\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u67d4\u5149\u201d\r\n  STENCIL_ALPHA = 5240,\r\n  STENCIL_LUMA = 5241,\r\n  SUBTRACT = 5248, // \u51cf\u6cd5\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u6df7\u5408\u6a21\u5f0f -> \u51cf\u6cd5\u201d\r\n  VIVID_LIGHT = 5230,\r\n}\n"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'const layer = comp.layer(1) as AVLayer; // \u9009\u62e9\u7b2c 1 \u5c42\r\n\r\nif (!(layer instanceof AVLayer)) {\r\n    throw new Error("\u5f53\u524d\u5c42\u4e0d\u662f\u97f3\u89c6\u89c9\u56fe\u5c42");\r\n}\r\n\r\nlet blendingMode = layer.blendingMode; // \u83b7\u53d6\u6df7\u5408\u6a21\u5f0f\r\n\r\nlayer.blendingMode = BlendingMode.ADD; // \u8bbe\u7f6e\u6df7\u5408\u6a21\u5f0f\u4e3a \u53e0\u52a0\n'})}),"\n",(0,a.jsx)(r.h3,{id:"\u56fe\u5c42\u54c1\u8d28\u4e0e\u91c7\u6837\u54c1\u8d28",children:"\u56fe\u5c42\u54c1\u8d28\u4e0e\u91c7\u6837\u54c1\u8d28"}),"\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.code,{children:"AVLayer"})," \u63d0\u4f9b\u4e86 ",(0,a.jsx)(r.code,{children:"quality"})," \u548c ",(0,a.jsx)(r.code,{children:"samplingQuality"})," \u5c5e\u6027\uff0c\u5206\u522b\u7528\u4e8e\u83b7\u53d6\u6216\u8bbe\u7f6e\u56fe\u5c42\u7684\u6e32\u67d3\u54c1\u8d28\u548c\u91c7\u6837\u54c1\u8d28\u3002"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",metastring:'title="LayerQuality"',children:"declare enum LayerQuality {\r\n  BEST = 4614, // \u6700\u4f73\u54c1\u8d28 - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u54c1\u8d28 -> \u6700\u4f73\u201d\r\n  DRAFT = 4613, // \u8349\u7a3f\u54c1\u8d28 - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u54c1\u8d28 -> \u8349\u7a3f\u54c1\r\n  WIREFRAME = 4612, // \u7ebf\u6846\u6a21\u5f0f - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u54c1\u8d28 -> \u7ebf\u6846\u201d\r\n}\n"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",metastring:'title="LayerSamplingQuality"',children:"declare enum LayerSamplingQuality {\r\n  BICUBIC = 4813, // \u53cc\u4e09\u6b21\u63d2\u503c - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u54c1\u8d28 -> \u53cc\u4e09\u6b21\u201d\r\n  BILINEAR = 4812, // \u53cc\u7ebf\u6027\u63d2\u503c - \u5bf9\u5e94AE\u4e2d\u7684 \u201c\u54c1\u8d28 -> \u53cc\u7ebf\u6027\u201d\r\n}\n"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'const layer = comp.layer(1) as AVLayer; // \u9009\u62e9\u7b2c 1 \u5c42\r\n\r\nif (!(layer instanceof AVLayer)) {\r\n    throw new Error("\u5f53\u524d\u5c42\u4e0d\u662f\u97f3\u89c6\u89c9\u56fe\u5c42");\r\n}\r\n\r\nlet quality = layer.quality; // \u83b7\u53d6\u56fe\u5c42\u54c1\u8d28\r\nlet samplingQuality = layer.samplingQuality; // \u83b7\u53d6\u56fe\u5c42\u91c7\u6837\u54c1\u8d28\r\n\r\nlayer.quality = LayerQuality.BEST; // \u8bbe\u7f6e\u56fe\u5c42\u54c1\u8d28\u4e3a \u6700\u4f73\u54c1\u8d28\r\nlayer.samplingQuality = LayerSamplingQuality.BICUBIC; // \u8bbe\u7f6e\u56fe\u5c42\u91c7\u6837\u54c1\u8d28\u4e3a \u53cc\u4e09\u6b21\u63d2\u503c\n'})}),"\n",(0,a.jsx)(r.h3,{id:"\u5728\u67e5\u770b\u5668\u4e2d\u6253\u5f00\u56fe\u5c42",children:"\u5728\u67e5\u770b\u5668\u4e2d\u6253\u5f00\u56fe\u5c42"}),"\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.code,{children:"AVLayer"})," \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4e00\u4e2a ",(0,a.jsx)(r.code,{children:"openInViewer"})," \u65b9\u6cd5\uff0c\u8c03\u7528\u6b64\u65b9\u6cd5\u53ef\u4ee5\u5728 After Effects \u7684\u56fe\u5c42\u67e5\u770b\u5668\u9762\u677f\u4e2d\u6253\u5f00\u8be5\u56fe\u5c42\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u5bf9\u5e94\u7684 ",(0,a.jsx)(r.code,{children:"Viewer"})," \u5bf9\u8c61\u3002\u5982\u679c\u65e0\u6cd5\u6253\u5f00\uff0c\u5219\u8fd4\u56de ",(0,a.jsx)(r.code,{children:"null"}),"\u3002"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'const layer = comp.layer(1) as AVLayer; // \u9009\u62e9\u7b2c 1 \u5c42\r\n\r\nif (!(layer instanceof AVLayer)) {\r\n    throw new Error("\u5f53\u524d\u5c42\u4e0d\u662f\u97f3\u89c6\u89c9\u56fe\u5c42");\r\n}\r\n\r\nconst viewer: Viewer | null = layer.openInViewer(); // \u6253\u5f00\u9884\u89c8\u5668\r\n\r\nif (viewer) {\r\n    // viewer \u5bf9\u8c61\u4e0d\u4e3a null\uff0c\u8868\u793a\u6210\u529f\u6253\u5f00\uff0c\u53ef\u4ee5\u5bf9\u5176\u8fdb\u884c\u64cd\u4f5c\r\n    //\uff08\u4e5f\u53ef\u4ee5\u4ee3\u8868\u8fd9\u4e2a\u56fe\u5c42\u80fd\u4e0d\u80fd\u88ab\u67e5\u770b\u5668\u67e5\u770b\uff09\r\n}\n'})}),"\n",(0,a.jsx)(r.h2,{id:"textlayer",children:"TextLayer"}),"\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.code,{children:"TextLayer"})," \u7ee7\u627f\u81ea ",(0,a.jsx)(r.code,{children:"AVLayer"}),"\uff0c\u662f\u4e13\u95e8\u4e3a\u5904\u7406\u6587\u5b57\u5185\u5bb9\u800c\u8bbe\u8ba1\u7684\u56fe\u5c42\u7c7b\u578b\u3002"]}),"\n",(0,a.jsx)(r.h3,{id:"\u83b7\u53d6\u6587\u672c\u5185\u5bb9",children:"\u83b7\u53d6\u6587\u672c\u5185\u5bb9"}),"\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.code,{children:"TextLayer"})," \u63d0\u4f9b\u4e86\u4e00\u4e2a ",(0,a.jsx)(r.code,{children:"sourceText"})," \u5c5e\u6027\uff0c\u901a\u8fc7\u6b64\u5c5e\u6027\u53ef\u4ee5\u8bbf\u95ee\u6587\u672c\u56fe\u5c42\u7684\u6587\u672c\u6570\u636e\u3002"]}),"\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.code,{children:"sourceText"})," \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a ",(0,a.jsx)(r.code,{children:"TextDocumentProperty"})," \u5bf9\u8c61\uff0c\u800c\u5b9e\u9645\u7684\u6587\u672c\u5b57\u7b26\u4e32\u5219\u5b58\u50a8\u5728\u8be5\u5bf9\u8c61\u7684 ",(0,a.jsx)(r.code,{children:"value"})," \u5c5e\u6027\u4e2d\u3002"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'const layer = comp.layer(1) as TextLayer; // \u9009\u62e9\u7b2c 1 \u5c42\r\n\r\nconst text = layer.sourceText.value; // \u83b7\u53d6\u6587\u5b57\u5185\u5bb9\r\n\r\nlayer.sourceText.setValue("\u65b0\u7684\u6587\u5b57\u5185\u5bb9"); // \u8bbe\u7f6e\u65b0\u7684\u6587\u5b57\u5185\u5bb9\n'})}),"\n",(0,a.jsx)(r.h3,{id:"\u8bbf\u95ee\u8def\u5f84\u9009\u9879\u4e0e\u66f4\u591a\u9009\u9879",children:"\u8bbf\u95ee\u8def\u5f84\u9009\u9879\u4e0e\u66f4\u591a\u9009\u9879"}),"\n",(0,a.jsxs)(r.p,{children:["\u5728 ",(0,a.jsx)(r.code,{children:"TextLayer"})," \u7684 ",(0,a.jsx)(r.code,{children:"text"})," \u5c5e\u6027\u4e4b\u4e0b\uff0c\u8fd8\u5305\u542b\u4e86 ",(0,a.jsx)(r.code,{children:"pathOption"}),"\uff08\u8def\u5f84\u9009\u9879\uff09\u548c ",(0,a.jsx)(r.code,{children:"moreOptions"}),"\uff08\u66f4\u591a\u9009\u9879\uff09\u4e24\u4e2a\u5c5e\u6027\u7ec4\u3002\u5b83\u4eec\u5206\u522b\u5141\u8bb8\u6211\u4eec\u83b7\u53d6\u6216\u8bbe\u7f6e\u4e0e\u6587\u672c\u8def\u5f84\u53ca\u5176\u4ed6\u9ad8\u7ea7\u9009\u9879\u76f8\u5173\u7684\u53c2\u6570\u3002"]}),"\n",(0,a.jsx)(r.p,{children:"\u4ee5\u4e0b\u662f\u5982\u4f55\u901a\u8fc7\u8fd9\u4e9b\u5c5e\u6027\u8bbf\u95ee\u66f4\u6df1\u5c42\u6b21\u53c2\u6570\u7684\u793a\u4f8b\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:"const layer = comp.layer(1) as TextLayer; // \u9009\u62e9\u7b2c 1 \u5c42\r\n\r\nconst pathOption = layer.text.pathOption; // \u83b7\u53d6\u8def\u5f84\u9009\u9879\u5c5e\u6027\u7ec4\r\nconst moreOption = layer.text.moreOption; // \u83b7\u53d6\u66f4\u591a\u9009\u9879\u5c5e\u6027\u7ec4\r\n\r\nconst path = layer.text.pathOption.path; // \u4ece\u8def\u5f84\u9009\u9879\u4e2d\u83b7\u53d6\u5177\u4f53\u7684\u201c\u8def\u5f84\u201d\u5c5e\u6027\r\n\r\n$.println(path.value); // \u5982\u679c\u8def\u5f84\u4f7f\u7528\u4e86\u8499\u7248 1\uff0c\u5219\u8fd4\u56de 1\uff1b\u5426\u5219\u8fd4\u56de 0\r\n                       // \u5f53\u7136\uff0c\u5982\u679c\u4f7f\u7528\u8499\u7248 2\uff0c\u5219\u8fd4\u56de 2\uff0c\u4ee5\u6b64\u7c7b\u63a8\r\n                       // \u5176\u5b9e\u4e5f\u662f\u6839\u636e After Effects \u4e2d\u7684\u9009\u9879\uff0c\u4ece\u4e0a\u5230\u4e0b\uff0c\u4ee5\u6b64\u7c7b\u63a8\u51fa\u4e0d\u540c\u7684\u503c\r\n\r\nconst pathName = path.name; // \u8fd4\u56de\uff1a\u201c\u8def\u5f84\u201d\r\n\r\nconst fillAndStroke = layer.text.moreOption.fillANdStroke; // \u4ece\u66f4\u591a\u9009\u9879\u4e2d\u83b7\u53d6\u201c\u586b\u5145\u548c\u63cf\u8fb9\u201d\u5c5e\u6027\r\n\r\nconst fillAndStrokeName = fillAndStroke.name; // \u8fd4\u56de\uff1a\u201c\u586b\u5145\u548c\u63cf\u8fb9\u201d\r\n\r\n$.writeln(fillAndStroke.value); // \u83b7\u53d6\u201c\u586b\u5145\u548c\u63cf\u8fb9\u201d\u5c5e\u6027\u7ec4\u7684\u5177\u4f53\u503c\r\n                                // \u6839\u636e After Effects \u4e2d\u7684\u9009\u9879\uff0c\u4ece\u4e0a\u5230\u4e0b\r\n                                // \u4ee5\u6b64\u7c7b\u63a8\uff1a\r\n                                // \u6bcf\u5b57\u7b26\u8c03\u677f = 1\r\n                                // \u5168\u90e8\u586b\u5145\u5728\u5168\u90e8\u63cf\u8fb9\u4e4b\u4e0a = 2\r\n                                // \u5168\u90e8\u63cf\u8fb9\u5728\u5168\u90e8\u586b\u5145\u4e4b\u4e0a = 3\r\nfillAndStroke.setValue(2); // \u8bbe\u7f6e\u201c\u586b\u5145\u548c\u63cf\u8fb9\u201d\u5c5e\u6027\u7ec4\u7684\u503c\u4e3a 2\uff0c\u5373\u5168\u90e8\u586b\u5145\u5728\u5168\u90e8\u63cf\u8fb9\u4e4b\u4e0a\n"})}),"\n",(0,a.jsx)(r.h2,{id:"shapelayer",children:"ShapeLayer"}),"\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.code,{children:"ShapeLayer"})," \u7ee7\u627f\u81ea ",(0,a.jsx)(r.code,{children:"AVLayer"}),"\uff0c\u4f46\u662f\u6ca1\u6709\u5728\u7ee7\u627f\u4e0a\uff0c\u65b0\u589e\u4efb\u4f55\u7684\u5c5e\u6027/\u65b9\u6cd5\uff0c\u6b64\u5904\u4e0d\u505a\u8fc7\u591a\u7684\u9610\u8ff0\u3002"]})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>s,x:()=>t});var l=n(6540);const a={},i=l.createContext(a);function s(e){const r=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),l.createElement(i.Provider,{value:r},e.children)}}}]);